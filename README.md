# 火炎之紋章：翠星之影 🗡️

一款以經典 Fire Emblem 系列為藍本的網頁版戰術角色扮演遊戲（SRPG），純 Canvas 渲染，零外部依賴。

## 📖 故事

亡國公主艾琳在王宮陷落之夜逃出生天，在老騎士馬庫斯的護衛下踏上復國之旅。沿途招募夥伴、穿越荒野森林、攻陷要塞神殿，最終與暗黑軍師莫爾甘展開決戰。

---

## 🎮 遊戲內容

- **11 章完整戰役** — 從序章「墜落之夜」到最終章「翠星之戰」
- **11 位可操控角色** — 劍士、騎士、弓手、法師、盜賊、天馬騎士⋯⋯
- **戰術地圖戰鬥** — 地形效果、武器三角、速差追擊、必殺一擊
- **GBA 風格戰鬥動畫** — 64px 程序生成像素角色，戰場特效
- **成長系統** — 經驗值、升級、成長率、轉職
- **存檔/讀檔** — localStorage 自動保存進度

### 武器三角
```
劍 > 斧 > 槍 > 劍
（命中 ±15、攻擊力 ±1）
```

### 地形效果
| 地形 | 防禦 | 迴避 |
|------|------|------|
| 平原 | +0 | +0 |
| 森林 | +1 | +20 |
| 山地 | +2 | +30 |
| 城門 | +3 | +20 |
| 王座 | +3 | +30 |

---

## 🕹️ 操作

| 按鍵 | 動作 |
|------|------|
| 方向鍵 / 點擊 | 移動游標 |
| Enter / 點擊 | 選取 / 確認 |
| Esc | 取消 |
| R | 角色狀態欄 |

**手機可玩** — 支援觸控操作，自適應螢幕。

---

## 📂 結構

```
js/
├── main.js          # 遊戲主迴圈、輸入處理
├── game.js          # 狀態機、回合邏輯、指令系統
├── battle.js        # GBA 風格戰鬥動畫場景
├── combat.js        # 戰鬥計算、經驗值、治療
├── ai.js            # 敵方 AI 決策
├── map.js           # 地圖格子、地形、尋路（BFS）
├── unit.js          # 角色類、成長系統、屬性計算
├── sprites.js       # 程序生成像素圖（地形、角色、肖像）
├── ui.js            # DOM 介面、狀態欄、選單
├── dialogue.js      # 打字機效果對話系統
├── cursor.js        # 格子游標
└── data/
    ├── chapters.js  # 11 章劇本、角色、地形地圖
    ├── classes.js   # 職業定義、轉職路徑
    └── items.js     # 武器、法杖、道具
```

**~3,500 行 JavaScript** | **零外部依賴** | **純 Canvas 渲染**

---

## 🚀 遊玩

```bash
git clone https://github.com/ShawTim/fire-emblem.git
cd fire-emblem
python3 -m http.server 8765
# 開啟 http://localhost:8765
```

或者直接開 `index.html`。

---

## 🛠️ 技術

- **HTML5 Canvas** — 全部渲染
- **程序生成像素圖** — 零圖片素材，所有角色和地形都是代碼繪製
- **原生 JavaScript** — 無框架、無建構工具
- **正體中文介面** — 所有文字、對話、選單

---

## 📝 開發筆記

本作以 **AI 輔助開發（vibe coding）** 方式製作，從遊戲設計文件到完整實現。重點在於還原 GBA 時代 Fire Emblem 的核心體驗：戰術深度、角色成長、劇情推進。

---

## License

MIT

---

Built by [ShawTim](https://github.com/ShawTim)
