<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ËÅ∑Ê•≠ÂúñÈëë ‚Äî Áø†ÊòüÂÇ≥Ë™™</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { background:#1a1a2e; color:#ccc; font-family:'Segoe UI',sans-serif; padding:20px; }
h1 { text-align:center; color:#e8d080; font-size:24px; margin-bottom:8px; }
.subtitle { text-align:center; color:#888; font-size:13px; margin-bottom:24px; }
.grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:16px; max-width:1200px; margin:0 auto; }
.card {
  background:#16213e; border:2px solid #334; border-radius:8px; padding:16px;
  text-align:center; transition:border-color 0.2s;
}
.card:hover { border-color:#e8d080; }
.card canvas { image-rendering:pixelated; display:block; margin:0 auto 10px; }
.class-name { color:#e8d080; font-size:16px; font-weight:bold; margin-bottom:4px; }
.class-id { color:#666; font-size:11px; margin-bottom:6px; }
.weapons { color:#8ab; font-size:12px; margin-bottom:4px; }
.stats { color:#999; font-size:11px; line-height:1.5; }
.faction-toggle { text-align:center; margin-bottom:20px; }
.faction-toggle button {
  background:#16213e; color:#ccc; border:2px solid #334; padding:8px 16px;
  margin:0 4px; cursor:pointer; border-radius:4px; font-size:13px;
}
.faction-toggle button.active { border-color:#e8d080; color:#e8d080; }
</style>
</head>
<body>
<h1>‚öîÔ∏è ËÅ∑Ê•≠ÂúñÈëë</h1>
<p class="subtitle">Áø†ÊòüÂÇ≥Ë™™ ‚Äî ÂÖ®ËÅ∑Ê•≠‰∏ÄË¶Ω</p>

<div class="faction-toggle">
  <button id="btn-player" class="active" onclick="setFaction('player')">ÊàëÊñπ</button>
  <button id="btn-enemy" onclick="setFaction('enemy')">ÊïµÊñπ</button>
</div>

<div class="grid" id="class-grid"></div>

<script src="js/data/items.js"></script>
<script src="js/data/classes.js"></script>
<script src="js/data/chapters.js"></script>
<script src="js/sprites.js"></script>
<script>
// Minimal GameMap stub for sprites
const GameMap = { tileSize:32, scale:2, width:20, height:15, terrain:[], getTerrain:()=>'plain',
  screenToTile:()=>({x:0,y:0}), camX:0, camY:0 };

const CLASS_INFO = {
  lord:       { name:'È†ò‰∏ª', nameEn:'Lord', weapons:'Âäç', desc:'ÁéãÊóèË°ÄÁµ±ÔºåÊåØÂ•ÆÂ£´Ê∞£' },
  paladin:    { name:'ËÅñÈ®éÂ£´', nameEn:'Paladin', weapons:'Âäç/Êßç', desc:'È®éÈ¶¨ÈáçË£ùÔºåÊ©üÂãïÂäõÂº∑' },
  cavalier:   { name:'È®éÂ£´', nameEn:'Cavalier', weapons:'Âäç/Êßç', desc:'ËºïÈ®éÂÖµÔºåÊîªÂÆàÂÖºÂÇô' },
  archer:     { name:'ÂºìÁÆ≠Êâã', nameEn:'Archer', weapons:'Âºì', desc:'ÈÅ†Á®ãÊîªÊìäÔºåÂâãÈ£õË°å' },
  sniper:     { name:'ÁãôÊìäÊâã', nameEn:'Sniper', weapons:'Âºì', desc:'ÂºìÁÆ≠Êâã‰∏ä‰ΩçËÅ∑' },
  fighter:    { name:'Êà∞Â£´', nameEn:'Fighter', weapons:'Êñß', desc:'È´òÊîªÊìäÂäõÔºåÂäõÈáèÂûã' },
  warrior:    { name:'ÂãáËÄÖ', nameEn:'Warrior', weapons:'Êñß/Âºì', desc:'Êà∞Â£´‰∏ä‰ΩçËÅ∑' },
  mercenary:  { name:'ÂÇ≠ÂÖµ', nameEn:'Mercenary', weapons:'Âäç', desc:'ÂùáË°°ÂûãÔºåÈÄüÂ∫¶ÂÑ™ÁßÄ' },
  swordmaster:{ name:'ÂäçËÅñ', nameEn:'Swordmaster', weapons:'Âäç', desc:'ÂÇ≠ÂÖµ‰∏ä‰ΩçËÅ∑ÔºåÂøÖÊÆ∫È´ò' },
  hero:       { name:'ÂãáÂ£´', nameEn:'Hero', weapons:'Âäç/Êñß', desc:'ÂÇ≠ÂÖµ‰∏ä‰ΩçËÅ∑ÔºåÊîªÂÆàÂùáË°°' },
  mage:       { name:'È≠îÊ≥ïÂ∏´', nameEn:'Mage', weapons:'È≠îÊ≥ï', desc:'È≠îÊ≥ïÊîªÊìäÔºåÁÑ°Ë¶ñÈò≤Á¶¶' },
  sage:       { name:'Ë≥¢ËÄÖ', nameEn:'Sage', weapons:'È≠îÊ≥ï/Êùñ', desc:'È≠îÊ≥ïÂ∏´‰∏ä‰ΩçËÅ∑' },
  darkMage:   { name:'ÊöóÈªëÊ≥ïÂ∏´', nameEn:'Dark Mage', weapons:'ÊöóÈ≠îÊ≥ï', desc:'ÊìçÁ∏±ÈªëÊöó‰πãÂäõ' },
  cleric:     { name:'ÂÉß‰æ∂', nameEn:'Cleric', weapons:'Êùñ', desc:'ÂõûÂæ©ÊîØÊè¥Ôºå‰∏çËÉΩÊîªÊìä' },
  bishop:     { name:'Âè∏Á•≠', nameEn:'Bishop', weapons:'Êùñ/È≠îÊ≥ï', desc:'ÂÉß‰æ∂‰∏ä‰ΩçËÅ∑' },
  knight:     { name:'ÈáçÈ®éÂ£´', nameEn:'Knight', weapons:'Êßç', desc:'È´òÈò≤Á¶¶ÔºåÁßªÂãïÂäõ‰Ωé' },
  general:    { name:'Â∞áËªç', nameEn:'General', weapons:'Êßç/Âäç', desc:'ÈáçÈ®éÂ£´‰∏ä‰ΩçËÅ∑ÔºåÈêµÂ£Å' },
  thief:      { name:'ÁõúË≥ä', nameEn:'Thief', weapons:'Âäç', desc:'ÈñãÈéñ/ÂÅ∑Á´äÔºåÈÄüÂ∫¶È´ò' },
  assassin:   { name:'Âà∫ÂÆ¢', nameEn:'Assassin', weapons:'Âäç', desc:'ÁõúË≥ä‰∏ä‰ΩçËÅ∑ÔºåÂøÖÊÆ∫È´ò' },
  wyvernRider:{ name:'È£õÈæçÈ®éÂ£´', nameEn:'Wyvern Rider', weapons:'Êßç', desc:'È£õË°åÈáçË£ùÔºåÂº±ÂºìÁÆ≠' },
  wyvernLord: { name:'È£õÈæçÂ∞áËªç', nameEn:'Wyvern Lord', weapons:'Êßç/Âäç', desc:'È£õÈæç‰∏ä‰ΩçËÅ∑' },
  pegasusKnight:{ name:'Â§©È¶¨È®éÂ£´', nameEn:'Pegasus Knight', weapons:'Êßç', desc:'È£õË°åËºïË£ùÔºåÂº±ÂºìÁÆ≠' },
  falconKnight:{ name:'ÈöºÈ®éÂ£´', nameEn:'Falcon Knight', weapons:'Êßç/Âäç', desc:'Â§©È¶¨‰∏ä‰ΩçËÅ∑' },
  brigand:    { name:'Â±±Ë≥ä', nameEn:'Brigand', weapons:'Êñß', desc:'Á≤óÊö¥Ë†ªÂäõÂûãÊïµÂÖµ' },
  skeleton:   { name:'È™∑È´èÂÖµ', nameEn:'Skeleton', weapons:'Âäç/Êßç', desc:'‰∏çÊ≠ªÊóèÊïµÂÖµ' },
  soldier:    { name:'Â£´ÂÖµ', nameEn:'Soldier', weapons:'Êßç', desc:'Âü∫Êú¨ÊïµÂÖµ' },
};

let currentFaction = 'player';

function setFaction(f) {
  currentFaction = f;
  document.getElementById('btn-player').className = f==='player'?'active':'';
  document.getElementById('btn-enemy').className = f==='enemy'?'active':'';
  renderAll();
}

function renderAll() {
  const grid = document.getElementById('class-grid');
  grid.innerHTML = '';
  
  const classIds = Object.keys(CLASS_INFO);
  
  classIds.forEach(classId => {
    const info = CLASS_INFO[classId];
    const card = document.createElement('div');
    card.className = 'card';
    
    // Canvas for sprite
    const canvas = document.createElement('canvas');
    const scale = 4;
    canvas.width = 32 * scale;
    canvas.height = 32 * scale;
    canvas.style.width = (32 * scale) + 'px';
    canvas.style.height = (32 * scale) + 'px';
    
    const ctx = canvas.getContext('2d');
    ctx.imageSmoothingEnabled = false;
    ctx.scale(scale, scale);
    
    // Create mock unit
    const unit = {
      classId: classId,
      faction: currentFaction,
      hp: 20,
      maxHp: 20,
      portrait: currentFaction === 'player' ? { hair:'#8040a0', skin:'#fdb', eyes:'#222' } : null,
      isBoss: false,
    };
    
    // Vary hair colors for player units
    const hairColors = ['#8040a0','#c04040','#4060c0','#40a040','#a08040','#d08050','#606060','#d0a030'];
    if (currentFaction === 'player') {
      unit.portrait.hair = hairColors[classIds.indexOf(classId) % hairColors.length];
    }
    
    Sprites.drawUnit(ctx, unit, 0, 0, false);
    
    card.appendChild(canvas);
    card.innerHTML += `
      <div class="class-name">${info.name}</div>
      <div class="class-id">${info.nameEn} (${classId})</div>
      <div class="weapons">üó°Ô∏è ${info.weapons}</div>
      <div class="stats">${info.desc}</div>
    `;
    // Re-append canvas since innerHTML killed it
    const newCanvas = card.querySelector('canvas');
    if (!newCanvas) {
      card.insertBefore(canvas, card.firstChild);
    }
    
    grid.appendChild(card);
  });
  
  // Re-render canvases (innerHTML destroyed them)
  const cards = grid.querySelectorAll('.card');
  cards.forEach((card, i) => {
    const classId = classIds[i];
    if (!card.querySelector('canvas')) {
      const canvas = document.createElement('canvas');
      const scale = 4;
      canvas.width = 32 * scale;
      canvas.height = 32 * scale;
      canvas.style.width = (32 * scale) + 'px';
      canvas.style.height = (32 * scale) + 'px';
      const ctx = canvas.getContext('2d');
      ctx.imageSmoothingEnabled = false;
      ctx.scale(scale, scale);
      
      const unit = {
        classId: classId,
        faction: currentFaction,
        hp: 20, maxHp: 20,
        portrait: currentFaction === 'player' ? 
          { hair: ['#8040a0','#c04040','#4060c0','#40a040','#a08040','#d08050','#606060','#d0a030'][i%8], skin:'#fdb', eyes:'#222' } : null,
        isBoss: false,
      };
      
      Sprites.drawUnit(ctx, unit, 0, 0, false);
      card.insertBefore(canvas, card.firstChild);
    }
  });
}

// Init
Sprites._frameCounter = 0;
renderAll();
</script>
</body>
</html>
